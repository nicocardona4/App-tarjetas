<!doctype html>
<html lang="es">
<head>
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Flashcards - Selecci√≥n</title>
<style>
  :root{
    --bg:#0f172a;
    --card:#ffffff;
    --muted:#94a3b8;
    --accent:#06b6d4;
  }
  body{
    margin:0;
    font-family: Inter, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    background:linear-gradient(180deg,#071024 0%, #071022 100%);
    color:var(--card);
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    min-height:100vh;
    padding:16px;
  }
  h1{
    font-size:1.6rem;
    margin-bottom:16px;
  }
.buttons {
  display: flex;
  flex-wrap: wrap;        /* permite que los botones pasen a otra l√≠nea */
  justify-content: center; /* centra los botones en cada l√≠nea */
  gap: 10px;               /* espacio entre botones */
  margin-bottom: 20px;
}

  button{
    background:var(--accent);
    color:#000;
    border:none;
    border-radius:8px;
    padding:10px 16px;
    font-size:1rem;
    cursor:pointer;
  }
  button:hover{opacity:0.9}
  .card{
    background:rgba(255,255,255,0.05);
    border-radius:12px;
    padding:24px;
    max-width:420px;
    width:100%;
    text-align:center;
    box-shadow:0 6px 18px rgba(0,0,0,0.3);
    margin-bottom:12px;
  }
  .question{
    font-size:1.2rem;
    margin:12px 0 20px 0;
    min-height:48px;
  }
  input{
    width:100%;
    padding:10px;
    border:none;
    border-radius:8px;
    font-size:1rem;
    margin-bottom:12px;
  }
  .stats{
    display:flex;
    justify-content:space-between;
    width:100%;
    max-width:420px;
    margin-top:18px;
    font-size:0.95rem;
    color:var(--muted);
  }
  .result{
    font-size:1rem;
    margin-top:10px;
    min-height:22px;
  }
</style>
</head>
<body>

<h1>Selecciona un set de flashcards</h1>
<div class="buttons">
  <button id="vocabBtn">Vocabulario</button>
  <button id="kanjiBtn">Kanjis</button>
  <button id="gramBtn">Gram√°tica</button>
  <button id="mixBtn">Mezcla</button>
</div>

<div class="card">
  <div id="question" class="question">Selecciona un set para empezar...</div>
  <input id="answerInput" type="text" placeholder="Escrib√≠ tu respuesta..." autocomplete="off" />
  <button id="checkBtn">Comprobar</button>
  <button id="nextBtn" style="margin-top:8px;">Siguiente</button>

  <div id="result" class="result"></div>
</div>

<div class="stats">
  <div>Correctas: <span id="correctCount">0</span></div>
  <div>Incorrectas: <span id="incorrectCount">0</span></div>
  <div>Restantes: <span id="remainingCount">0</span></div>
</div>
<script src="https://unpkg.com/wanakana@4.0.2/umd/wanakana.min.js"></script>

<script src="https://unpkg.com/wanakana@4.0.2/umd/wanakana.min.js"></script>
<script>
  // --- Arrays de tarjetas ---
const vocabulario = [
  { front: "„Å≤„Å£„Åì„Åó", back: "Mudanza" },
{ front: "„Åä„Åó„ÇÉ„Çå", back: "Con estilo / Elegante" },
{ front: "„Åç„Å°„Çì„Å®", back: "Ordenadamente / Correctamente" },
{ front: "„Åö„Å£„Å®", back: "Todo el tiempo / Mucho m√°s" },
{ front: "„Çä„Åì„Çì", back: "Divorcio" },
{ front: "„Åæ„ÅÑ„Å§„Åç", back: "Cada mes / Mensualmente" },
  { front: "„ÅÜ„Åô„ÅÑ", back: "Delgado" },
  { front: "„Åµ„Å®„ÅÑ", back: "Grueso" },
  { front: "„Åì„ÅÑ", back: "Denso" },
  { front: "„Åã„Çã„ÅÑ", back: "Ligero" },
  { front: "„Åõ„Åæ„ÅÑ", back: "Estrecho" },
  { front: "„Å≤„Çç„ÅÑ", back: "Amplio" },
  { front: "„ÅÇ„Åï„ÅÑ", back: "Superficial" },
  { front: "„Åµ„Åã„ÅÑ", back: "Profundo" },
  { front: "„ÅÇ„Å§„ÅÑ", back: "Grueso (objeto)" },
  { front: "„ÅÇ„Åü„Åü„Åã„ÅÑ", back: "C√°lido" },
  { front: "„ÅÇ„Å§„ÅÑ", back: "Caliente" },
  { front: "„Å§„ÇÅ„Åü„ÅÑ", back: "Fr√≠o (al tacto)" },
  { front: "„Åô„Åö„Åó„ÅÑ", back: "Fresco (clima)" },
  { front: "„ÅÇ„Åæ„ÅÑ", back: "Dulce" },
  { front: "„Åã„Çâ„ÅÑ", back: "Picante" },
  { front: "„Å´„Åå„ÅÑ", back: "Amargo" },
  { front: "„Åó„Åä„Åã„Çâ„ÅÑ", back: "Salado" },
  { front: "„Åä„ÇÇ„ÅÑ", back: "Pesado" },
  { front: "„Åä„Åù„ÅÑ", back: "Lento" },
  { front: "„Åä„Åä„ÅÑ", back: "Mucho" },
  { front: "„Åô„Åè„Å™„ÅÑ", back: "Poco" },
  { front: "„Å™„Åå„ÅÑ", back: "Largo" },
  { front: "„Åø„Åò„Åã„ÅÑ", back: "Corto" },
  { front: "„ÅØ„ÇÑ„ÅÑ", back: "R√°pido" },
  { front: "„Åü„Åã„ÅÑ", back: "Alto" },
  { front: "„Å≤„Åè„ÅÑ", back: "Bajo" },
  { front: "„ÅÇ„Åã„Çã„ÅÑ", back: "Claro" },
  { front: "„Åè„Çâ„ÅÑ", back: "Oscuro" },
  { front: "„ÅÑ„ÅÑ", back: "Bueno" },
  { front: "„Çè„Çã„ÅÑ", back: "Malo" },
  { front: "„ÅÇ„Åü„Çâ„Åó„ÅÑ", back: "Nuevo" },
  { front: "„Åµ„Çã„ÅÑ", back: "Viejo" },
  { front: "„Åç„Çå„ÅÑ", back: "Limpio / Hermoso" },
  { front: "„Åç„Åü„Å™„ÅÑ", back: "Sucio" },
  { front: "„Åó„Çì„Åõ„Å§", back: "Amable" },
  { front: "„Åí„Çì„Åç", back: "Saludable / Animado" },
  { front: "„ÇÜ„ÅÜ„ÇÅ„ÅÑ", back: "Famoso" },
  { front: "„Å´„Åé„ÇÑ„Åã", back: "Animado (lugar)" },
  { front: "„Åó„Åö„Åã", back: "Tranquilo (lugar)" },
  { front: "„Åπ„Çì„Çä", back: "Conveniente" },
  { front: "„Åµ„Åπ„Çì", back: "Inconveniente" },
  { front: "„Åü„ÅÑ„Åõ„Å§", back: "Importante" },
  { front: "„Åò„Çá„ÅÜ„Å∂", back: "Fuerte / Robusto" },
  { front: "„Åô„Å¶„Åç", back: "Encantador / Maravilloso" },
{ front: "„Åó„Åè", back: "Extender / Poner (por ejemplo, un mantel o una alfombra)" },
{ front: "„Çè„Åã„Åô", back: "Hervir / Calentar agua" },
{ front: "„Å≤„Åü„Åô", back: "Remojar / Empapar" },
{ front: "„Åó„Çì„Åò„Çã", back: "Creer / Confiar" },
{ front: "„Åï„Åù„ÅÜ", back: "Invitar / Animar a alguien a hacer algo" },
{ front: "„Åü„Åö„Å≠„Çã", back: "Visitar / Preguntar" },
  // Nuevas palabras agregadas
  { front: "„ÅÜ„Åã„Åå„ÅÜ", back: "Consultar / Preguntar (forma humilde)" },
  { front: "„ÅÇ„ÇÑ„Åæ„Çã", back: "Disculparse" },
  { front: "„Åæ„Å°„Åå„Åà„Çã", back: "Equivocarse" },
  { front: "„Åø„Åä„Åè„Çã", back: "Despedirse / Acompa√±ar al partir" },
  { front: "„Åã„Åë„Çã", back: "Colgar" },
  { front: "„Åî„Åø", back: "Basura" },
  { front: "„Åò„Åó„Çì", back: "Terremoto" },
  { front: "„Åü„ÅÑ„Åµ„ÅÜ", back: "Tif√≥n / Viento fuerte" },
  { front: "„Åü„Çì„Åô", back: "Mueble / Cajonera" },
  { front: "„Çà„ÇÑ„Åè", back: "Reserva / Cita" },
  { front: "„Åù„ÅÜ„Å†„Çì", back: "Consulta / Conversaci√≥n" },
  { front: "„Åª„Åã", back: "Otro / Dem√°s" },
  { front: "„Åç„Å£„Å®", back: "Seguro / Sin duda / Probablemente" },
{ front: "„Å∫„Çâ„Å∫„Çâ", back: "Fluido / Hablando con soltura" },
{ front: "„Åª„Å®„Çì„Å©", back: "Casi / La mayor√≠a" },
{ front: "„ÇÑ„Å£„Å®", back: "Por fin / Finalmente" },
{ front: "„Åó„ÇÉ„Åπ„Çã", back: "Hablar / Charlar" },
{ front: "„ÅÇ„Åæ„Çä", back: "No mucho / Poco (usado con negativo)" },
{ front: "„Çä„Çá„ÅÜ„Åç„Çì", back: "Tarifa / Precio / Costo" },
{ front: "„Åü„Å≥", back: "Viaje" },
{ front: "„ÇÇ„Å©„Çã", back: "Regresar / Volver" },
{ front: "„Å©„Çì„Å©„Çì", back: "R√°pidamente / Sin parar / Uno tras otro" },
{ front: "„Å†„Çì„Å†„Çì", back: "Poco a poco / Gradualmente" },
{ front: "„ÇÅ„Å£„Åü„Å´", back: "Raramente / Casi nunca (usado con negativo)" },
{ front: "„Å™„Åè„Å™„Çã", back: "Desaparecer / Perderse / Morir (formal)" }
];


  const kanjisN4 = [
    { front: "ÁÇπ", back: "„Å¶„Çì„ÄÄ/ „Å§„Åè  ‚Äî Nota / Calificacion / Encender" },
    { front: "ÁäØ‰∫∫", back: "„ÅØ„Çì„Å´„Çì ‚Äî Criminal / Culpable" },
{ front: "ÂøÖ„Åö", back: "„Åã„Å™„Çâ„Åö ‚Äî Sin falta / Seguramente / Siempre" },
{ front: "Ë®àÁîª", back: "„Åë„ÅÑ„Åã„Åè ‚Äî Plan / Proyecto" },
    {front: "‰ºöÁ§æ", back: "„Åã„ÅÑ„Åó„ÇÉ ‚Äî Compa√±√≠a / Empresa" },
    { front: "‰ºöÁ§æÂì°", back: "„Åã„ÅÑ„Åó„ÇÉ„ÅÑ„Çì ‚Äî Empleado de empresa" },
    { front: "‰ΩèÊâÄ", back: "„Åò„ÇÖ„ÅÜ„Åó„Çá ‚Äî Direcci√≥n (de casa, oficina, etc.)" },
    { front: "ÊâÄ", back: "„Å®„Åì„Çç ‚Äî Lugar / Sitio" },
    { front: "Â†¥ÊâÄ", back: "„Å∞„Åó„Çá ‚Äî Lugar / Sitio / Ubicaci√≥n" },
    { front: "ËøëÊâÄ", back: "„Åç„Çì„Åò„Çá ‚Äî Vecindario / Alrededores" },
    { front: "ÊúâÂêç", back: "„ÇÜ„ÅÜ„ÇÅ„ÅÑ ‚Äî Famoso / C√©lebre" },
    { front: "ÂêçÂâç", back: "„Å™„Åæ„Åà ‚Äî Nombre" },
    { front: "ÂêçÂâç„Çí„Å§„Åë„Çã", back: "„Å™„Åæ„Åà„Çí„Å§„Åë„Çã ‚Äî Poner nombre" },
    { front: "Ââç", back: "„Åæ„Åà ‚Äî Delante / Antes" },
    { front: "ÂçàÂæå", back: "„Åî„Åî ‚Äî Tarde / PM" },
    { front: "ÂçàÂâç", back: "„Åî„Åú„Çì ‚Äî Ma√±ana / AM" },
    { front: "Âæå„Çç", back: "„ÅÜ„Åó„Çç ‚Äî Detr√°s / Atr√°s" },
    { front: "Âæå„Åß", back: "„ÅÇ„Å®„Åß ‚Äî Despu√©s / M√°s tarde" },
    { front: "‰∏ÄÂ∫¶", back: "„ÅÑ„Å°„Å© ‚Äî Una vez" },
    { front: "‰∫åÂ∫¶„Å®ÔΩû„Å™„ÅÑ", back: "„Å´„Å©„Å®ÔΩû„Å™„ÅÑ ‚Äî Nunca m√°s..." },
    { front: "‰∏ÄÂ∫¶„Å´", back: "„ÅÑ„Å°„Å©„Å´ ‚Äî A la vez / Al mismo tiempo" },
    {front: "Ê≥®ÊÑè", back: "„Å°„ÇÖ„ÅÜ„ÅÑ ‚Äî Atenci√≥n / Cuidado / Precauci√≥n"},
    { front: "Ê≥®ÁõÆ", back: "„Å°„ÇÖ„ÅÜ„ÇÇ„Åè ‚Äî Atenci√≥n / Observaci√≥n" },
    {front: "Ê≥®Êñá", back: "„Å°„ÇÖ„ÅÜ„ÇÇ„Çì ‚Äî Pedido / Orden"},
    { front: "Âª∫Áâ©", back: "„Åü„Å¶„ÇÇ„ÅÆ ‚Äî Edificio / Construcci√≥n" },
    { front: "ÁóÖÊ∞ó", back: "„Å≥„Çá„ÅÜ„Åç ‚Äî Enfermedad / Enfermarse" },
  {front: "ÁóÖÈô¢", back: "„Å≥„Çá„ÅÜ„ÅÑ„Çì ‚Äî Hospital"},
    { front: "‰ºöË≠∞", back: "„Åã„ÅÑ„Åé ‚Äî Reuni√≥n / Conferencia" },
{ front: "Ê∫ñÂÇô", back: "„Åò„ÇÖ„Çì„Å≥ ‚Äî Preparaci√≥n / Arreglo previo" },
    { front: "È≥•", back: "„Å®„Çä ‚Äî P√°jaro / Ave" },
{ front: "Áú†„ÅÑ", back: "„Å≠„ÇÄ„ÅÑ ‚Äî So√±oliento / Tener sue√±o" },
{ front: "ÁîüÂæí", back: "„Åõ„ÅÑ„Å® ‚Äî Estudiante / Alumno" },
    { front: "Â£≤„Çã", back: "„ÅÜ„Çã ‚Äî Vender" },
{ front: "Êï£Ê≠©", back: "„Åï„Çì„ÅΩ ‚Äî Paseo / Caminata" },
{ front: "‰∫∫Âè£", back: "„Åò„Çì„Åì„ÅÜ ‚Äî Poblaci√≥n" },
{ front: "Â¢ó„Åà„Çã", back: "„Åµ„Åà„Çã ‚Äî Aumentar / Incrementarse" },
{ front: "Â§ñ", back: "„Åù„Å® ‚Äî Afuera / Exterior" },
{ front: "ÊâãÁ¥ô", back: "„Å¶„Åå„Åø ‚Äî Carta" },
    {front: "ÊñôÈáë", back: "„Çä„Çá„ÅÜ„Åç„Çì ‚Äî Tarifa / Precio / Costo"},
  { front: "Â∑•Â†¥", back: "„Åì„ÅÜ„Åò„Çá„ÅÜ ‚Äî F√°brica" },
{ front: "Ë≤∏„Åô", back: "„Åã„Åô ‚Äî Prestar / Alquilar" },
{ front: "ÊπØ", back: "„ÇÜ ‚Äî Agua caliente" },
{ front: "Êúç", back: "„Åµ„Åè ‚Äî Ropa" },
  { front: "Êòé", back: "„ÅÇ„Åã„Çã„ÅÑ - claro, luminoso" },
  { front: "ÂÆâ", back: "„ÇÑ„Åô„ÅÑ - barato, tranquilo" },
  { front: "Âåª", back: "„ÅÑ„Åó„ÇÉ - m√©dico" },
  { front: "ËÇ≤", back: "„Åù„Å†„Å§Ôºè„Åù„Å†„Å¶„Çã - crecer / criar" },

  { front: "‰Ωø„ÅÜ", back: "„Å§„Åã„ÅÜ - usar" },
  { front: "‰Ωú„Çã", back: "„Å§„Åè„Çã - hacer, crear" },
  { front: "Ê≥£„Åè", back: "„Å™„Åè - llorar" },
  { front: "Á´ã„Å§", back: "„Åü„Å§ - ponerse de pie" },
  { front: "Â∫ß„Çã", back: "„Åô„Çè„Çã - sentarse" },
  { front: "Â≠ê‰æõ", back: "„Åì„Å©„ÇÇ - ni√±o, hijo" },
  { front: "ÂøÉÈÖç", back: "„Åó„Çì„Å±„ÅÑ - preocupaci√≥n" },
  { front: "Â∫óÈï∑", back: "„Å¶„Çì„Å°„Çá„ÅÜ - gerente de tienda" },
  { front: "ÊÇ™„ÅÑ", back: "„Çè„Çã„ÅÑ - malo" },
  { front: "Ë®ÄËëâ", back: "„Åì„Å®„Å∞ - palabra, idioma" },

  { front: "Âèñ„Çã", back: "„Å®„Çã - tomar, agarrar" },
  { front: "Ëµ∑„Åç„Çã", back: "„Åä„Åç„Çã - levantarse, despertarse" },
  { front: "ÊåÅ„Å§", back: "„ÇÇ„Å§ - tener, sostener" },
  { front: "ÂæÖ„Å§", back: "„Åæ„Å§ - esperar" },
  { front: "È£õ„Å∂", back: "„Å®„Å∂ - volar" },
  { front: "ÈÅä„Å∂", back: "„ÅÇ„Åù„Å∂ - jugar, divertirse" },
  { front: "Êâã‰ºù„ÅÜ", back: "„Å¶„Å§„Å†„ÅÜ - ayudar" },
  { front: "Áøí„ÅÜ", back: "„Å™„Çâ„ÅÜ - aprender (de alguien)" },
  { front: "‰∏¶„Å∂", back: "„Å™„Çâ„Å∂ - alinearse, ponerse en fila" },

  // nuevos
  { front: "Ëµ∑„Åì„Çã", back: "„Åä„Åì„Çã - ocurrir, suceder" },
  { front: "‰∏¶„Åπ„Çã", back: "„Å™„Çâ„Åπ„Çã - colocar en fila" },
  { front: "Ë™ø„Åπ„Çã", back: "„Åó„Çâ„Åπ„Çã - investigar, examinar" },
  { front: "Èù¢ÁôΩ„ÅÑ", back: "„Åä„ÇÇ„Åó„Çç„ÅÑ - interesante, divertido" },
  { front: "Âàá„Çã", back: "„Åç„Çã - cortar" },
  { front: "Ê≥≥„Åê", back: "„Åä„Çà„Åê - nadar" },
  { front: "ÂØù„Çã", back: "„Å≠„Çã - dormir" },
  { front: "Âøô„Åó„ÅÑ", back: "„ÅÑ„Åù„Åå„Åó„ÅÑ - ocupado" },
  { front: "ÂÆ∂Êóè", back: "„Åã„Åû„Åè - familia" },
  { front: "ÂÜôÁúü", back: "„Åó„ÇÉ„Åó„Çì - fotograf√≠a" },
  { front: "Êñ∞ËÅû", back: "„Åó„Çì„Å∂„Çì - peri√≥dico" },
  { front: "ËæûÊõ∏", back: "„Åò„Åó„Çá - diccionario" },
  { front: "Ëµ∞„Çã", back: "„ÅØ„Åó„Çã - correr" },
  { front: "Ê≠©„Åè", back: "„ÅÇ„Çã„Åè - caminar" },
  { front: "ÂãâÂº∑", back: "„Åπ„Çì„Åç„Çá„ÅÜ - estudio" },
  { front: "ÈÉ®Â±ã", back: "„Å∏„ÇÑ - habitaci√≥n" },
  { front: "ÈÅãËª¢", back: "„ÅÜ„Çì„Å¶„Çì - conducir" },
  { front: "ÈÅãÂãï", back: "„ÅÜ„Çì„Å©„ÅÜ - ejercicio" },
  { front: "ÊéàÊ•≠", back: "„Åò„ÇÖ„Åé„Çá„ÅÜ - clase, lecci√≥n" },
  { front: "È£ü‰∫ã", back: "„Åó„Çá„Åè„Åò - comida" },
  { front: "ÊïôÂÆ§", back: "„Åç„Çá„ÅÜ„Åó„Å§ - aula" },
  { front: "ÂêàÊ†º", back: "„Åî„ÅÜ„Åã„Åè - aprobar (un examen)" },
  { front: "È£üÂ†Ç", back: "„Åó„Çá„Åè„Å©„ÅÜ - comedor" },
  { front: "ÁîüÊ¥ª", back: "„Åõ„ÅÑ„Åã„Å§ - vida cotidiana" },
  { front: "Ê•Ω„Åó„ÅÑ", back: "„Åü„ÅÆ„Åó„ÅÑ - divertido" },
  { front: "Ëñ¨", back: "„Åè„Åô„Çä - medicina" },
  { front: "Áîò„ÅÑ", back: "„ÅÇ„Åæ„ÅÑ - dulce" },

  { front: "Èñã„Åë„Çã", back: "„ÅÇ„Åë„Çã - abrir (algo)" },
  { front: "Èñã„Åè", back: "„ÅÇ„Åè - abrirse" },
  { front: "Èñâ„ÇÅ„Çã", back: "„Åó„ÇÅ„Çã - cerrar (algo)" },
  { front: "Èñâ„Åæ„Çã", back: "„Åó„Åæ„Çã - cerrarse" },
  { front: "Ê∂à„Åô", back: "„Åë„Åô - apagar, borrar" },
  { front: "Â∏∞„Çã", back: "„Åã„Åà„Çã - volver, regresar" },
  { front: "ÂÄí„Åô", back: "„Åü„Åä„Åô - derribar, tumbar" },
  { front: "ÂÄí„Çå„Çã", back: "„Åü„Åä„Çå„Çã - caerse, colapsar" },
  { front: "Ââ≤„Çã", back: "„Çè„Çã - romper, partir (algo)" },
  { front: "Ââ≤„Çå„Çã", back: "„Çè„Çå„Çã - romperse, partirse" },
  { front: "ÁáÉ„ÇÑ„Åô", back: "„ÇÇ„ÇÑ„Åô - quemar (algo)" },
  { front: "ÁáÉ„Åà„Çã", back: "„ÇÇ„Åà„Çã - arder, quemarse" },
  { front: "‰ºù„Åà„Çã", back: "„Å§„Åü„Åà„Çã - transmitir, comunicar" },
  { front: "‰ºù„Çè„Çã", back: "„Å§„Åü„Çè„Çã - transmitirse, llegar" },
  { front: "‰ªò„Åë„Çã", back: "„Å§„Åë„Çã - prender, adjuntar, aplicar" },
  { front: "‰ªò„Åè", back: "„Å§„Åè - prenderse, adherirse" },
  { front: "Ê≠¢„ÇÅ„Çã", back: "„Å®„ÇÅ„Çã - detener (algo)" },
  { front: "Ê≠¢„Åæ„Çã", back: "„Å®„Åæ„Çã - detenerse" },
  { front: "ÂÖ•„Çå„Çã", back: "„ÅÑ„Çå„Çã - meter, poner dentro" },
  { front: "ÂÖ•„Çã", back: "„ÅØ„ÅÑ„Çã - entrar" },
  { front: "Ë¶ã„Å§„Åë„Çã", back: "„Åø„Å§„Åë„Çã - encontrar" },
  { front: "Ë¶ã„Å§„Åã„Çã", back: "„Åø„Å§„Åã„Çã - ser encontrado" },
  { front: "Â±ä„Åë„Çã", back: "„Å®„Å©„Åë„Çã - entregar" },
  { front: "Â±ä„Åè", back: "„Å®„Å©„Åè - llegar (algo entregado)" },
  { front: "ËêΩ„Å®„Åô", back: "„Åä„Å®„Åô - dejar caer (algo)" },
  { front: "ËêΩ„Å°„Çã", back: "„Åä„Å°„Çã - caerse" },
  { front: "ÊµÅ„Åô", back: "„Å™„Åå„Åô - dejar fluir, verter" },
  { front: "ÊµÅ„Çå„Çã", back: "„Å™„Åå„Çå„Çã - fluir" },
  { front: "Ê∏õ„Çâ„Åô", back: "„Å∏„Çâ„Åô - reducir (algo)" },
  { front: "Ê∏õ„Çã", back: "„Å∏„Çã - reducirse, disminuir" },
  { front: "Âä©„Åë„Çã", back: "„Åü„Åô„Åë„Çã - ayudar, rescatar" },
  { front: "Âä©„Åã„Çã", back: "„Åü„Åô„Åã„Çã - ser salvado, sobrevivir" },
  { front: "Èö†„Åô", back: "„Åã„Åè„Åô - esconder (algo)" },
  { front: "Èö†„Çå„Çã", back: "„Åã„Åè„Çå„Çã - esconderse" },
  { front: "ËÇ≤„Å¶„Çã", back: "„Åù„Å†„Å¶„Çã - criar, educar" },
  { front: "ËÇ≤„Å§", back: "„Åù„Å†„Å§ - crecer" },
  { front: "‰πó„Åõ„Çã", back: "„ÅÆ„Åõ„Çã - subir (algo/alguien) a un veh√≠culo" },
  { front: "‰πó„Çã", back: "„ÅÆ„Çã - subir(se) a un veh√≠culo" },
  { front: "Âú∞Âõ≥", back: "„Å°„Åö - mapa" },
  { front: "Áõ∏Ë´á", back: "„Åù„ÅÜ„Å†„Çì - consulta, hablar con alguien" },
  { front: "‰ΩìÈáç", back: "„Åü„ÅÑ„Åò„ÇÖ„ÅÜ - peso corporal" },
  { front: "ÂÆ∂Êóè", back: "„Åã„Åû„Åè - familia" },
  { front: "Áà∂", back: "„Å°„Å° - mi padre" },
  { front: "ÊØç", back: "„ÅØ„ÅØ - mi madre" },
  { front: "„ÅäÁà∂„Åï„Çì", back: "„Åä„Å®„ÅÜ„Åï„Çì - padre (de otro / forma respetuosa)" },
  { front: "„ÅäÊØç„Åï„Çì", back: "„Åä„Åã„ÅÇ„Åï„Çì - madre (de otro / forma respetuosa)" },
  { front: "ÂÖÑ", back: "„ÅÇ„Å´ - mi hermano mayor" },
  { front: "Âßâ", back: "„ÅÇ„Å≠ - mi hermana mayor" },
  { front: "Âºü", back: "„Åä„Å®„ÅÜ„Å® - hermano menor" },
  { front: "Â¶π", back: "„ÅÑ„ÇÇ„ÅÜ„Å® - hermana menor" },
  { front: "ÂÖÑÂºü", back: "„Åç„Çá„ÅÜ„Å†„ÅÑ - hermanos" },
  { front: "ÂßâÂ¶π", back: "„Åó„Åæ„ÅÑ - hermanas" },
  { front: "Á•ñÁà∂", back: "„Åù„Åµ - mi abuelo" },
  { front: "Á•ñÊØç", back: "„Åù„Åº - mi abuela" },
  { front: "„Åä„Åò„ÅÑ„Åï„Çì", back: "abuelo (de otro / forma respetuosa)" },
  { front: "„Åä„Å∞„ÅÇ„Åï„Çì", back: "abuela (de otro / forma respetuosa)" },
  { front: "Â§´", back: "„Åä„Å£„Å® - mi esposo" },
  { front: "Â¶ª", back: "„Å§„Åæ - mi esposa" },
  { front: "‰∏ª‰∫∫", back: "„Åó„ÇÖ„Åò„Çì - esposo / amo de casa" },
  { front: "ÂÆ∂ÂÜÖ", back: "„Åã„Å™„ÅÑ - esposa (forma humilde)" },
  { front: "Â≠ê‰æõ", back: "„Åì„Å©„ÇÇ - hijo / ni√±o" },
  { front: "ÊÅØÂ≠ê", back: "„ÇÄ„Åô„Åì - hijo (var√≥n)" },
  { front: "Â®ò", back: "„ÇÄ„Åô„ÇÅ - hija" },
  { front: "Âºï„Åè", back: "„Å≤„Åè - hacer tir√≥n, atraer" },
  { front: "ÊÄ•„Åê", back: "„ÅÑ„Åù„Åê - apurarse / darse prisa" },
  { front: "‰∏ä„Åå„Çã", back: "„ÅÇ„Åå„Çã - subir / elevarse / aumentar" },
  { front: "‰∏ã„Åå„Çã", back: "„Åï„Åå„Çã - bajar / descender / disminuir" },
  { front: "ÈÄÅ„Çã", back: "„Åä„Åè„Çã - enviar / mandar / acompa√±ar / despedir" },
    { front: "ÁóÖ", back: "„Å≥„Çá„ÅÜ - enfermedad / estar enfermo" },
  { front: "Ë≥™", back: "„Åó„Å§ - calidad / sustancia / car√°cter" },
  { front: "ÁóÖÊ∞ó", back: "„Å≥„Çá„ÅÜ„Åç - enfermedad" },
  { front: "Ë≥™Âïè", back: "„Åó„Å§„ÇÇ„Çì - pregunta" },
     { front: "Á≠î„Åà„Çã", back: "„Åì„Åü„Åà„Çã - responder / contestar" },
  { front: "Èü≥", back: "„Åä„Å® - sonido / ruido" },
  { front: "Ê≠å", back: "„ÅÜ„Åü - canci√≥n" },
  { front: "ÈÄ±", back: "„Åó„ÇÖ„ÅÜ - semana" },
  { front: "ÂÆ§", back: "„Åó„Å§ - habitaci√≥n / sala / cuarto" },
  { front: "Âõ≥Êõ∏È§®", back: "„Å®„Åó„Çá„Åã„Çì - biblioteca" },
     { front: "È§®", back: "„Åã„Çì - edificio / sala / instituci√≥n" },
  { front: "Êò•", back: "„ÅØ„Çã - primavera" },
  { front: "Áßã", back: "„ÅÇ„Åç - oto√±o" },
  { front: "ÂÜ¨", back: "„Åµ„ÇÜ - invierno" },
  { front: "Â§è", back: "„Å™„Å§ - verano" },
  { front: "ÊóÖÈ§®", back: "„Çä„Çá„Åã„Çì - posada japonesa tradicional / hospedaje" },
  { front: "Ë≤∏„Åô", back: "„Åã„Åô - prestar / alquilar" },
  { front: "È≥•", back: "„Å®„Çä - ave / p√°jaro" },
  { front: "È≠ö", back: "„Åï„Åã„Å™ - pez / pescado" },
  { front: "È¶¨", back: "„ÅÜ„Åæ - caballo" },
  { front: "Ëôé", back: "„Å®„Çâ - tigre" },
  { front: "È£Ø", back: "„ÇÅ„Åó - comida / arroz cocido" },
  { front: "Âã§„ÇÅ„Çã", back: "„Å§„Å®„ÇÅ„Çã - trabajar / estar empleado en" }, 
      { front: "Êµ∑", back: "„ÅÜ„Åø - mar / oc√©ano" },
  { front: "Â£≤", back: "„ÅÜ„Çã - vender" },
  { front: "Áü•", back: "„Åó„Çã - saber / conocimiento / sabidur√≠a" },
  { front: "ÈÅì", back: "„Åø„Å° - camino / calle / distrito / viaje / curso" },
  { front: "ÈõÜ", back: "„ÅÇ„Å§„ÇÅ„Çã - reunir / juntar / encontrarse" },
  { front: "Âà•", back: "„Çè„Åã„Çå„Çã / „Çè„Åë„Çã - separar / divergir / ramificarse" },
  { front: "Áâ©", back: "„ÇÇ„ÅÆ - cosa / objeto / materia" },
  { front: "‰Ωø", back: "„Å§„Åã„ÅÜ - usar / mandar / mensajero / embajador" },
  { front: "ÂìÅ", back: "„Åó„Å™ - bienes / art√≠culos / refinamiento / dignidad" },
  { front: "Ë®à", back: "„ÅØ„Åã„Çã - planear / medir / esquema" },
  { front: "Ê≠ª", back: "„Åó„Å¨ - morir / muerte" },
  { front: "Áâπ", back: "„Å®„Åè - especial" },
  { front: "ËøëÈÅì", back: "„Å°„Åã„Åø„Å° - atajo" },
  { front: "ÈÅ∏Êäû", back: "„Åõ„Çì„Åü„Åè - elecci√≥n / selecci√≥n" },
  { front: "ÈÅ†Ë∂≥", back: "„Åà„Çì„Åù„Åè - excursi√≥n" },
  { front: "ÁâπÂà•", back: "„Å®„Åè„Åπ„Å§ - especial / extraordinario" },
    { front: "Âßã", back: "„ÅØ„Åò„ÇÅ„Çã - comenzar / empezar" },
  { front: "Êúù", back: "„ÅÇ„Åï - ma√±ana" },
  { front: "ÈÅã", back: "„ÅØ„Åì„Å∂ - transportar / llevar / suerte / destino" },
  { front: "ÁµÇ", back: "„Åä„Çè„Çã - terminar / finalizar" },
  { front: "Âè∞", back: "„ÅÜ„Å¶„Å™ - pedestal / soporte / contador para m√°quinas o veh√≠culos" },
  { front: "Â∫É", back: "„Å≤„Çç„ÅÑ - amplio / espacioso" },
  { front: "‰Ωè", back: "„Åô„ÇÄ - vivir / residir / habitar" },
  { front: "ÈÅãËª¢", back: "„ÅÜ„Çì„Å¶„Çì - conducir / manejo de veh√≠culos" },
      { front: "ÁÑ°", back: "„Å™„ÅÑ - nada / inexistente / ninguno / vac√≠o" },
  { front: "Áúü", back: "„Åæ / „Åæ„Åì„Å® - verdadero / realidad / secta budista" },
  { front: "Êúâ", back: "„ÅÇ„Çã - poseer / tener / existir / suceder" },
  { front: "Âè£", back: "„Åè„Å° - boca" },
  { front: "Â∞ë", back: "„Åô„Åè„Å™„ÅÑ / „Åô„Åì„Åó - poco / pocos / un poco" },
  { front: "Áî∫", back: "„Åæ„Å° - pueblo / ciudad / barrio / calle" },
  { front: "Êñô", back: "„Çä„Çá„ÅÜ - tarifa / materiales / ingredientes" },
  { front: "Â∑•", back: "„Åì„ÅÜ / „Åè / „Åê - artesan√≠a / construcci√≥n" },
  { front: "Âª∫", back: "„Åü„Å¶„Çã - construir / edificar" },
  { front: "Á©∫", back: "„Åù„Çâ / „Åã„Çâ / „ÅÇ„Åè / „Åô„Åè / „ÇÄ„Å™„Åó„ÅÑ - cielo / vac√≠o / desocupado / hueco / vano" },
  { front: "Â∑•Â≠¶", back: "„Åì„ÅÜ„Åå„Åè - ingenier√≠a" }
];

const numeros = [
  // üóìÔ∏è D√≠as del mes (dif√≠ciles e irregulares)
  { front: "‰∏ÄÊó•", back: "„Å§„ÅÑ„Åü„Å°" },
  { front: "‰∫åÊó•", back: "„Åµ„Å§„Åã" },
  { front: "‰∏âÊó•", back: "„Åø„Å£„Åã" },
  { front: "ÂõõÊó•", back: "„Çà„Å£„Åã" },
  { front: "‰∫îÊó•", back: "„ÅÑ„Å§„Åã" },
  { front: "ÂÖ≠Êó•", back: "„ÇÄ„ÅÑ„Åã" },
  { front: "‰∏ÉÊó•", back: "„Å™„ÅÆ„Åã" },
  { front: "ÂÖ´Êó•", back: "„Çà„ÅÜ„Åã" },
  { front: "‰πùÊó•", back: "„Åì„Åì„ÅÆ„Åã" },
  { front: "ÂçÅÊó•", back: "„Å®„Åä„Åã" },
  { front: "ÂçÅÂõõÊó•", back: "„Åò„ÇÖ„ÅÜ„Çà„Å£„Åã" },
  { front: "‰∫åÂçÅÊó•", back: "„ÅØ„Å§„Åã" },
  { front: "‰∫åÂçÅÂõõÊó•", back: "„Å´„Åò„ÇÖ„ÅÜ„Çà„Å£„Åã" },
  { front: "‰∫åÂçÅ‰πùÊó•", back: "„Å´„Åò„ÇÖ„ÅÜ„Åè„Å´„Å°" },
  { front: "‰∏âÂçÅÊó•", back: "„Åï„Çì„Åò„ÇÖ„ÅÜ„Å´„Å°" },
  { front: "‰∏âÂçÅ‰∏ÄÊó•", back: "„Åï„Çì„Åò„ÇÖ„ÅÜ„ÅÑ„Å°„Å´„Å°" },

  // üå∏ Meses
  { front: "‰∏ÄÊúà", back: "„ÅÑ„Å°„Åå„Å§" },
  { front: "‰∫åÊúà", back: "„Å´„Åå„Å§" },
  { front: "‰∏âÊúà", back: "„Åï„Çì„Åå„Å§" },
  { front: "ÂõõÊúà", back: "„Åó„Åå„Å§" },
  { front: "‰∫îÊúà", back: "„Åî„Åå„Å§" },
  { front: "ÂÖ≠Êúà", back: "„Çç„Åè„Åå„Å§" },
  { front: "‰∏ÉÊúà", back: "„Åó„Å°„Åå„Å§" },
  { front: "ÂÖ´Êúà", back: "„ÅØ„Å°„Åå„Å§" },
  { front: "‰πùÊúà", back: "„Åè„Åå„Å§" },
  { front: "ÂçÅÊúà", back: "„Åò„ÇÖ„ÅÜ„Åå„Å§" },
  { front: "ÂçÅ‰∏ÄÊúà", back: "„Åò„ÇÖ„ÅÜ„ÅÑ„Å°„Åå„Å§" },
  { front: "ÂçÅ‰∫åÊúà", back: "„Åò„ÇÖ„ÅÜ„Å´„Åå„Å§" },

  // üìÜ Fechas completas
  { front: "‰∏ÄÊúà‰∏ÄÊó•", back: "„ÅÑ„Å°„Åå„Å§„Å§„ÅÑ„Åü„Å°" },
  { front: "‰∏âÊúà‰∏âÊó•", back: "„Åï„Çì„Åå„Å§„Åø„Å£„Åã" },
  { front: "ÂõõÊúàÂçÅÊó•", back: "„Åó„Åå„Å§„Å®„Åä„Åã" },
  { front: "‰∫îÊúà‰∫îÊó•", back: "„Åî„Åå„Å§„ÅÑ„Å§„Åã" },
  { front: "‰∏ÉÊúà‰∏ÉÊó•", back: "„Åó„Å°„Åå„Å§„Å™„ÅÆ„Åã" },
  { front: "ÂÖ´ÊúàÂçÅ‰∫îÊó•", back: "„ÅØ„Å°„Åå„Å§„Åò„ÇÖ„ÅÜ„Åî„Å´„Å°" },
  { front: "‰πùÊúà‰πùÊó•", back: "„Åè„Åå„Å§„Åì„Åì„ÅÆ„Åã" },
  { front: "ÂçÅÊúàÂçÅÊó•", back: "„Åò„ÇÖ„ÅÜ„Åå„Å§„Å®„Åä„Åã" },
  { front: "ÂçÅ‰∏ÄÊúà‰∫åÂçÅÊó•", back: "„Åò„ÇÖ„ÅÜ„ÅÑ„Å°„Åå„Å§„ÅØ„Å§„Åã" },
  { front: "ÂçÅ‰∫åÊúà‰∏âÂçÅ‰∏ÄÊó•", back: "„Åò„ÇÖ„ÅÜ„Å´„Åå„Å§„Åï„Çì„Åò„ÇÖ„ÅÜ„ÅÑ„Å°„Å´„Å°" }
];

const gramatica = [
  { front: "„ÅÆ„Çà„ÅÜ„Å™", back: "Algo como otra cosa (apariencia, f√≠sico)" },
    { front: "„ÅÆ„Çà„ÅÜ„Å´", back: "Algo como otra cosa (manera, acci√≥n)" },
    { front: "ÔΩû„Åù„ÅÜ", back: "Parece que..." },
  { front: "ÔΩû„Åü„ÅÑ", back: "Querer hacer algo (forma volitiva de un verbo)" },
  { front: "ÔΩû„Å™„Åå„Çâ", back: "mientras" },
  { front: "ÔΩû„Åì„Å®„Åå„ÅÇ„Çã", back: "Expresa que algo ha sucedido ocasionalmente" },
  { front: "ÔΩû„Åô„Åé„Çã", back: "Demasiado..." },
  { front: "ÔΩû„Åß„Åó„Çá„ÅÜ", back: "Suposici√≥n, probablemente" },
  { front: "ÔΩû„Å¶„ÇÇ„ÅÑ„ÅÑ", back: "Est√° bien hacer..., permiso" },
    { front: "ÔΩû„Å¶„ÅÇ„Çã", back: "Acci√≥n realizada o completada con un efecto presente (algo hecho y dejado as√≠)" }
,{ front: "„Åü„ÇÅ„Å´", back: "Para, con el fin de..." },
  { front: "„ÅÆ„Å´", back: "Aunque, a pesar de..." },
  { front: "„Å†„Åë", back: "Solo, √∫nicamente" },
  { front: "„Åù„Åó„Å¶", back: "Y, adem√°s" },
  { front: "„Å©„ÅÜ„Åó„Å¶", back: "Por qu√©" },
  { front: "„Å©„ÅÆ„Çà„ÅÜ„Å™", back: "Qu√© tipo de..." },
  { front: "„Å©„ÅÆ„Çà„ÅÜ„Å´", back: "De qu√© manera..., c√≥mo..." },
  { front: "„Å™„ÅÑ„Åß", back: "Sin hacer algo / no hagas..." },
    { front: "„Çà„ÅÜ„Å´„Å™„Çã", back: "Algo logrado con esfuerzo / llegar a poder hacer algo" },
  { front: "„Çà„ÅÜ„Å´„Åô„Çã", back: "Hacer lo posible para hacer algo / procurar hacer algo" },
    { front: "V„Çã + „Åü„ÇÅ„Å´", back: "Para..., con el fin de..., por causa de algo" },
    { front: "V„Çã + „Å®", back: "Al... „Åä„Åô„Å®(Al apretar)" },
{ front: "„Å™„Åã„Å™„Åã+V-„Å™„ÅÑ", back: "Me cuesta mucho..." }

];


  // --- Elementos DOM ---
  const questionEl = document.getElementById('question');
  const answerInput = document.getElementById('answerInput');
  const checkBtn = document.getElementById('checkBtn');
  const nextBtn = document.getElementById('nextBtn');
  const resultEl = document.getElementById('result');
  const correctCountEl = document.getElementById('correctCount');
  const incorrectCountEl = document.getElementById('incorrectCount');
  const remainingCountEl = document.getElementById('remainingCount');

  const vocabBtn = document.getElementById('vocabBtn');
  const kanjiBtn = document.getElementById('kanjiBtn');
  const gramBtn = document.getElementById('gramBtn');
  const mixBtn = document.getElementById('mixBtn');

  // --- Estado ---
  let correct = 0;
  let incorrect = 0;
  let remainingCards = [];
  let wrongCards = [];
  let currentCard = null;
  let isRepeatingWrong = false;

  // --- Funciones ---
  function shuffle(arr) {
    const a = arr.slice();
    for (let i = a.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
  }

  function startSet(cardsArray) {
    remainingCards = shuffle(cardsArray);
    correct = 0;
    incorrect = 0;
    wrongCards = [];
    isRepeatingWrong = false;
    nextQuestion();
  }

  function nextQuestion() {
  resultEl.textContent = "";
  answerInput.value = "";

  // Si no quedan cartas...
  if (remainingCards.length === 0) {
    // Si terminamos la ronda principal y hubo errores ‚Üí repaso
    if (!isRepeatingWrong && wrongCards.length > 0) {
      questionEl.textContent = "Repasemos las que fallaste...";
      remainingCards = shuffle(wrongCards);
      wrongCards = [];
      isRepeatingWrong = true;

      // Reiniciamos los contadores
      correct = 0;
      incorrect = 0;
      updateStats();
      return;
    }

    // Si estamos en ronda de repaso y a√∫n hay errores ‚Üí otra vuelta
    if (isRepeatingWrong && wrongCards.length > 0) {
      questionEl.textContent = "A√∫n quedan algunas incorrectas, sigamos...";
      remainingCards = shuffle(wrongCards);
      wrongCards = [];
      correct = 0;
      incorrect = 0;
      updateStats();
      return;
    }

    // Si terminamos todo sin errores ‚Üí fin total
    if (isRepeatingWrong && wrongCards.length === 0) {
      questionEl.textContent = "¬°Has terminado todas las tarjetas sin errores! üéâ";
      updateStats();
      return;
    }
  }

  // Mostrar siguiente tarjeta
  currentCard = remainingCards.pop();
  questionEl.textContent = currentCard.front;
  updateStats();
  answerInput.focus();
}


  // --- Comprobar respuesta ---
  function checkAnswer() {
    if (!currentCard) return;
    let userAnswer = answerInput.value.trim().toLowerCase();
    const correctAnswer = currentCard.back.trim().toLowerCase();

    let isCorrect = false;

    if (userAnswer) {
      // Comparaci√≥n directa
      if (correctAnswer.includes(userAnswer)) {
        isCorrect = true;
      } else {
        // Comparar versi√≥n en hiragana si puso romaji
        const converted = wanakana.toHiragana(userAnswer);
        if (correctAnswer.includes(converted)) {
          isCorrect = true;
        }
      }
    }

    // Mostrar respuesta siempre
    if (isCorrect) {
      resultEl.innerHTML = `‚úÖ ¬°Correcto!<br>Respuesta: "${currentCard.back}"`;
      correct++;
    } else {
      resultEl.innerHTML = `‚ùå Incorrecto.<br>Respuesta: "${currentCard.back}"`;
      if (userAnswer) incorrect++;
      // Guardar la tarjeta para repasarla despu√©s
      wrongCards.push(currentCard);
    }

    updateStats();
  }

  function updateStats() {
    correctCountEl.textContent = correct;
    incorrectCountEl.textContent = incorrect;
    remainingCountEl.textContent = remainingCards.length;
  }

  // --- Eventos ---
  checkBtn.addEventListener('click', checkAnswer);
  nextBtn.addEventListener('click', nextQuestion);
  answerInput.addEventListener('keydown', e => { if (e.key === 'Enter') checkAnswer(); });

  // --- Selecci√≥n de set ---
  vocabBtn.addEventListener('click', () => startSet(vocabulario));
  kanjiBtn.addEventListener('click', () => startSet(kanjisN4));
  gramBtn.addEventListener('click', () => startSet(gramatica));
  mixBtn.addEventListener('click', () => startSet([...vocabulario, ...kanjisN4, ...gramatica, ...numeros]));
</script>

</body>
</html>
